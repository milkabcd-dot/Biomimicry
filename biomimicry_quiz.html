<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>×—×™×“×•×Ÿ ×‘×™×•××™××™×§×¨×™ - ×˜×›× ×•×œ×•×’×™×” ×‘×”×©×¨××ª ×”×˜×‘×¢</title>
<!-- CSS ×œ× ×©×•× ×” -->
<style>
/* ×›×œ ×”-CSS ×©×œ×š â€” ×œ×œ× ×©×™× ×•×™ */
</style>
</head>
<body>

<div id="gameWrapper">
  <h1>ğŸŒ¿ ×—×™×“×•×Ÿ ×‘×™×•××™××™×§×¨×™ ğŸ”¬</h1>
  <div class="editor-credit">×¢×¨×™×›×”: ××™×œ×›×” ×‘×¨×§×• ×’×¨×©</div>
  <div id="gameContainer">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="question-number" id="questionNumber"></div>
    <img id="quizImage" src="" alt="×ª××•× ×ª ×‘×™×•××™××™×§×¨×™" />
    <div class="question" id="questionText"></div>
    <div class="answers-grid">
      <button class="btn" id="ans0"></button>
      <button class="btn" id="ans1"></button>
      <button class="btn" id="ans2"></button>
    </div>
    <div class="feedback" id="feedback" style="display:none;"></div>
    <button class="btn" id="nextBtn" style="display:none;">×”×©××œ×” ×”×‘××” â†</button>
  </div>
</div>

<script>
/* ====== ×”× ×ª×•× ×™× ×©×œ×š â€” ×œ×œ× ×©×™× ×•×™ ====== */
const quizData = [ /* ×›×œ ×”××¢×¨×š ×©×œ×š, ×›××• ×©×”×•× */ ];

let currentIndex = 0;
let score = 0;
let currentAnswers = [];
let currentCorrectIndex = 0;

const quizImage = document.getElementById("quizImage");
const questionText = document.getElementById("questionText");
const questionNumber = document.getElementById("questionNumber");
const feedback = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");
const progressFill = document.getElementById("progressFill");

/* ====== ×¤×•× ×§×¦×™×” ×œ×¢×¨×‘×•×‘ ×ª×©×•×‘×•×ª ====== */
function shuffleAnswers(answers, correctIndex) {
  const arr = answers.map((text, index) => ({ text, index }));
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  const newCorrectIndex = arr.findIndex(a => a.index === correctIndex);
  return {
    answers: arr.map(a => a.text),
    correctIndex: newCorrectIndex
  };
}

function updateProgress() {
  progressFill.style.width =
    ((currentIndex + 1) / quizData.length) * 100 + '%';
}

function loadQuestion() {
  const q = quizData[currentIndex];

  const shuffled = shuffleAnswers(q.answers, q.correct);
  currentAnswers = shuffled.answers;
  currentCorrectIndex = shuffled.correctIndex;

  quizImage.src = q.image;
  questionText.textContent = q.question;
  questionNumber.textContent =
    `×©××œ×” ${currentIndex + 1} ××ª×•×š ${quizData.length}`;

  feedback.style.display = "none";
  nextBtn.style.display = "none";
  updateProgress();

  currentAnswers.forEach((ans, idx) => {
    const btn = document.getElementById("ans" + idx);
    btn.textContent = ans;
    btn.disabled = false;
    btn.className = "btn";
    btn.onclick = () => checkAnswer(idx);
  });
}

function checkAnswer(selected) {
  const q = quizData[currentIndex];

  currentAnswers.forEach((_, idx) => {
    document.getElementById("ans" + idx).disabled = true;
  });

  feedback.style.display = "block";

  if (selected === currentCorrectIndex) {
    score++;
    feedback.className = "feedback correct";
    feedback.innerHTML = `
      <div style="font-size:1.3em">âœ… ××¦×•×™×Ÿ! ×ª×©×•×‘×” × ×›×•× ×”!</div>
      <div class="tech-info">
        <strong>ğŸ’¡ ×”×©×¨××” ×˜×›× ×•×œ×•×’×™×ª:</strong>
        ${q.techInfo}
      </div>`;
    document.getElementById("ans" + selected).classList.add("correct");
  } else {
    feedback.className = "feedback incorrect";
    feedback.innerHTML = `
      <div style="font-size:1.3em">âŒ ×œ× × ×›×•×Ÿ...</div>
      <div>×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×:
        <strong>${currentAnswers[currentCorrectIndex]}</strong>
      </div>
      <div class="tech-info">
        <strong>ğŸ’¡ ×”×©×¨××” ×˜×›× ×•×œ×•×’×™×ª:</strong>
        ${q.techInfo}
      </div>`;
    document.getElementById("ans" + selected).classList.add("incorrect");
    document
      .getElementById("ans" + currentCorrectIndex)
      .classList.add("correct");
  }

  nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
  currentIndex++;
  currentIndex < quizData.length ? loadQuestion() : showFinalScreen();
};

function showFinalScreen() {
  const percentage = Math.round((score / quizData.length) * 100);
  document.getElementById("gameContainer").innerHTML = `
    <div class="final-screen">
      <h2>ğŸ‰ ×¡×™×™××ª ××ª ×”×—×™×“×•×Ÿ! ğŸ‰</h2>
      <div class="score-display">${score} / ${quizData.length}</div>
      <p>×”×©×’×ª ${percentage}% ×ª×©×•×‘×•×ª × ×›×•× ×•×ª</p>
      <button class="restart-btn" onclick="location.reload()">ğŸ”„ ×©×—×§ ×©×•×‘</button>
    </div>`;
}

loadQuestion();
</script>

</body>
</html>
